/* ============================================ */
/* MOBILE-SPECIFIC STYLES */
/* ============================================ */

/* Mobile device detection class */
body.mobile-device {
    --tap-target-min: 44px;
}

/* Larger touch targets for mobile */
body.mobile-device .btn,
body.mobile-device .copy-btn,
body.mobile-device .side-panel-toggle,
body.mobile-device .viewpager-nav,
body.mobile-device .viewpager-indicator {
    min-height: 44px;
    min-width: 44px;
}

/* Better spacing for mobile */
body.mobile-device section {
    padding: clamp(2rem, 8vw, 3rem) clamp(1rem, 4vw, 1.5rem);
}

/* Improve readability on mobile */
body.mobile-device .feature-card p,
body.mobile-device .runner-card p,
body.mobile-device .runner-card li,
body.mobile-device .viewpager-content p {
    font-size: clamp(1rem, 4vw, 1.1rem) !important;
    line-height: 1.6;
}

/* Adjust top-left container for mobile - REMOVED MARGIN */
body.mobile-device .top-left-container {
    padding: 10px 15px;
    top: 0; /* REMOVED: was 15px */
    left: 0; /* REMOVED: was 15px */
    margin: 15px 0 0 15px; /* Add margin instead of position */
}

/* Improve button visibility on mobile */
body.mobile-device .btn {
    font-size: clamp(1rem, 4vw, 1.2rem);
    padding: clamp(0.75rem, 4vw, 1rem) clamp(1.25rem, 5vw, 1.75rem);
}

/* Larger code copy buttons for mobile */
body.mobile-device .copy-btn {
    font-size: 0.9rem;
    padding: 0 1.5rem;
    min-width: 75px;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 100% !important;
}

/* Ensure command text has enough padding on mobile */
body.mobile-device .command {
    display: flex !important;
    align-items: center !important;
    min-height: var(--tap-target-min, 44px) !important;
    padding-top: 12px !important;
    padding-bottom: 12px !important;
    padding-right: 6rem !important;
    overflow-x: auto !important;
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
}

/* Hide scrollbar completely on mobile for cleaner look */
body.mobile-device .command::-webkit-scrollbar {
    display: none !important;
    height: 0 !important;
    width: 0 !important;
    background: transparent !important;
}

/* Ensure command container has proper height */
body.mobile-device .command-container {
    min-height: var(--tap-target-min, 44px) !important;
}

/* Prevent text selection on tap for better UX */
body.mobile-device {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
}

/* Allow text selection only where needed */
body.mobile-device .code-example,
body.mobile-device .command,
body.mobile-device textarea,
body.mobile-device .viewpager-content {
    -webkit-user-select: text;
    user-select: text;
}

/* ViewPager mobile adjustments */
body.mobile-device .viewpager {
    height: 260px;
    cursor: default !important;
}

body.mobile-device .viewpager-slide {
    padding: 1rem;
}

body.mobile-device .viewpager-content {
    padding: 1.2rem;
    backdrop-filter: blur(5px);
}

body.mobile-device .viewpager-content .feature-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
}

body.mobile-device .viewpager-content h3 {
    font-size: 1.2rem;
    margin-bottom: 0.8rem;
}

body.mobile-device .viewpager-content p {
    font-size: 0.95rem;
    line-height: 1.5;
}

body.mobile-device .viewpager-controls {
    padding: 1rem;
}

body.mobile-device .viewpager-nav {
    min-width: 44px;
    min-height: 44px;
    width: 44px;
    height: 44px;
}

body.mobile-device .viewpager-indicators {
    gap: 0.6rem;
}

body.mobile-device .viewpager-indicator {
    width: 9px;
    height: 9px;
    min-width: 9px;
    min-height: 9px;
}

/* Touch device specific */
body.mobile-device .viewpager:active {
    cursor: default;
}

body.mobile-device .viewpager-slide:active {
    opacity: 0.95;
}

/* Optimize landscape mode for mobile */
@media (orientation: landscape) and (max-height: 500px) {
    body.mobile-device .landscape-header .btn {
        padding: 0.5rem 0.8rem;
        font-size: 0.85rem;
        min-height: 38px;
    }
    
    body.mobile-device .top-left-container {
        padding: 8px 12px;
        top: 8px;
        left: 8px;
        margin: 0; /* Reset margin in landscape */
    }
    
    /* Fix copy button in landscape mode */
    body.mobile-device .copy-btn {
        min-height: 38px;
        font-size: 0.8rem;
        padding: 0 1rem;
        min-width: 65px;
    }
    
    body.mobile-device .command {
        min-height: 38px !important;
        padding-top: 10px !important;
        padding-bottom: 10px !important;
        padding-right: 5rem !important;
    }
    
    /* ViewPager in mobile landscape */
    body.mobile-device .viewpager {
        height: 180px;
    }
    
    body.mobile-device .viewpager-slide {
        padding: 0.75rem;
    }
    
    body.mobile-device .viewpager-content {
        padding: 0.8rem;
    }
    
    body.mobile-device .viewpager-content .feature-icon {
        font-size: 1.8rem;
        margin-bottom: 0.5rem;
    }
    
    body.mobile-device .viewpager-content h3 {
        font-size: 1rem;
        margin-bottom: 0.5rem;
    }
    
    body.mobile-device .viewpager-content p {
        font-size: 0.8rem;
        line-height: 1.4;
    }
    
    body.mobile-device .viewpager-controls {
        padding: 0.8rem;
        gap: 1rem;
    }
    
    body.mobile-device .viewpager-nav {
        width: 36px;
        height: 36px;
        min-width: 36px;
        min-height: 36px;
    }
    
    body.mobile-device .viewpager-nav svg {
        width: 18px;
        height: 18px;
    }
    
    body.mobile-device .viewpager-indicators {
        gap: 0.4rem;
    }
    
    body.mobile-device .viewpager-indicator {
        width: 7px;
        height: 7px;
    }
}

/* Very small mobile screens */
@media (max-width: 320px) and (max-height: 600px) {
    body.mobile-device .top-left-container {
        padding: 6px 10px;
        gap: 8px;
        margin: 10px 0 0 10px; /* Smaller margin for very small screens */
    }
    
    body.mobile-device .side-panel-toggle {
        padding: 10px 14px;
        font-size: 16px;
    }
    
    body.mobile-device .home-text {
        font-size: 14px;
    }
    
    /* Adjust copy button for very small screens */
    body.mobile-device .copy-btn {
        min-width: 55px;
        padding: 0 0.8rem;
        font-size: 0.75rem;
    }
    
    body.mobile-device .command {
        padding-right: 4.5rem !important;
        font-size: 0.75rem !important;
    }
    
    /* ViewPager on very small screens */
    body.mobile-device .viewpager {
        height: 230px;
    }
    
    body.mobile-device .viewpager-slide {
        padding: 0.75rem;
    }
    
    body.mobile-device .viewpager-content {
        padding: 1rem;
    }
    
    body.mobile-device .viewpager-content .feature-icon {
        font-size: 2rem;
        margin-bottom: 0.75rem;
    }
    
    body.mobile-device .viewpager-content h3 {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
    }
    
    body.mobile-device .viewpager-content p {
        font-size: 0.85rem;
        line-height: 1.4;
    }
    
    body.mobile-device .viewpager-controls {
        padding: 0.8rem;
        gap: 0.8rem;
    }
    
    body.mobile-device .viewpager-nav {
        width: 38px;
        height: 38px;
        min-width: 38px;
        min-height: 38px;
    }
    
    body.mobile-device .viewpager-nav svg {
        width: 18px;
        height: 18px;
    }
    
    body.mobile-device .viewpager-indicators {
        gap: 0.5rem;
    }
    
    body.mobile-device .viewpager-indicator {
        width: 8px;
        height: 8px;
    }
}

/* Desktop-specific adjustments */
body.desktop-device .btn:hover {
    transform: translateY(-2px);
}

body.desktop-device .feature-card:hover {
    transform: translateY(-5px);
}

/* Fix for top-left container in portrait mode */
@media (orientation: portrait) {
    body:not(.landscape-mode) .top-left-container {
        min-width: 140px;
        gap: 10px;
        padding: 8px 12px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        top: 0; /* REMOVED: was 15px */
        left: 0; /* REMOVED: was 15px */
        margin: 15px 0 0 15px; /* Add margin for spacing */
    }
    
    body:not(.landscape-mode) .home-text {
        font-size: 16px;
        font-weight: 600;
        height: 38px;
        line-height: 38px;
        padding-left: 10px;
        margin-left: -2px;
        /* Add subtle gradient for better integration */
        background: linear-gradient(90deg, 
            rgba(0, 122, 204, 0.05) 0%, 
            rgba(0, 122, 204, 0) 100%);
        border-radius: 0 4px 4px 0;
    }
    
    body:not(.landscape-mode) .top-left-container .side-panel-toggle {
        min-width: 40px;
        height: 38px;
        font-size: 16px;
        /* Enhance button appearance */
        background: linear-gradient(145deg, #007acc, #005a9e);
        box-shadow: 
            0 2px 4px rgba(0, 0, 0, 0.3),
            inset 0 1px 1px rgba(255, 255, 255, 0.2);
    }
    
    /* Make the container look more unified */
    body:not(.landscape-mode) .top-left-container {
        box-shadow: 
            0 3px 10px rgba(0, 0, 0, 0.4),
            0 0 0 1px rgba(255, 255, 255, 0.08),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }
}

/* Ensure text doesn't wrap on very small screens */
@media (max-width: 360px) {
    .top-left-container {
        min-width: 110px !important;
        padding: 6px 10px !important;
        margin: 10px 0 0 10px !important; /* Smaller margin for very small screens */
    }
    
    .home-text {
        font-size: 14px !important;
        padding-left: 8px !important;
        height: 34px !important;
        line-height: 34px !important;
    }
    
    .top-left-container .side-panel-toggle {
        min-width: 34px !important;
        height: 34px !important;
        font-size: 14px !important;
        padding: 6px 8px !important;
    }
}

/* Make sure container maintains proper visual hierarchy */
.top-left-container {
    box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.05),
        inset 0 1px 0 rgba(255, 255, 255, 0.03),
        0 0 15px rgba(255, 255, 255, 0.03) !important;
}

/* ViewPager touch improvements for mobile */
body.mobile-device .viewpager-wrapper {
    -webkit-tap-highlight-color: transparent;
}

body.mobile-device .viewpager-slide {
    -webkit-tap-highlight-color: rgba(0, 122, 204, 0.1);
}

/* Prevent iOS text size adjustment */
body.mobile-device .viewpager-content h3,
body.mobile-device .viewpager-content p {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

/* Improve touch scrolling for ViewPager */
body.mobile-device .viewpager {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-x: contain;
}