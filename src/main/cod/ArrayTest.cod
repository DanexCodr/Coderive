use {
    lang.Math
}

// Test 2 - Should work based on parseTypeReference() output  
local test2() :: arr: [int] {
    ~> arr: [1, 2, 3]
}

    share main() {
        // Array declaration and initialization
        numbers: [int] = [1, 2, 3, 4, 5]
        outln("Array: " + numbers)
        
        // Array access
        outln("First element: " + numbers[0])
        outln("Third element: " + numbers[2])
        
        // String array
        names: [text] = ["Alice", "Bob", "Charlie"]
        outln("Names: " + names)
        outln("Second name: " + names[1])
        
        // Array assignment
        numbers[0] = 100
        outln("After assignment - First element: " + numbers[0])
        
        // Empty array
        empty := []
        outln("Empty array: " + empty)
        
        // Single element array
        single: [] = [42]
        outln("Single element: " + single[0])
        
        x := [1 to 10]
        outln("Simple natural array: " + x[2])
        
        outln("Big number: " + 9.999Qi)
        
        x = [by 2 in 168 to 9.999Qi]
        outln("Multiplicative natural array: ")
        outln("Before mutation: " + x[20000])
        x[20000] = "hello"
        outln("After mutation: " + x[20000])
        
        x = [[1 to 10]]
        outln("Simple nested natural array: " + x[0][2])
        
        x = [[1 to 10], [by 2 in 3 to 100]]
        outln("Nested natural array: " + x[1][5])
        
        x = ["a" to "Zz"]
        outln("Alphabet natural array: " + x[52])
        
        range := [1 to 10]
        container := [range]
        outln(range[5])
        outln(container[0][1])
        outln(container[0][5])

        // Test string formatting
        outln("Test: |" + "trailing space " + "|")
        outln("Number: " + 40168)
        outln(9.999Qi)
    }